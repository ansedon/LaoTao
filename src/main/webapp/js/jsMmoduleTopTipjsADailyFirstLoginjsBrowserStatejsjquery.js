M.define("TopTip",function(b,a,c){c.exports={show:function(d){var d=$('<div id="over_container"><div id="over_message">'+d+"</div></div>").appendTo("body");setTimeout(function(){d.hide("fast",function(){d.remove()})},3000)}}});M.closure(function(a){var c=a("TopTip"),b=$("#_j_expincrement").val();c.show("今日登录 "+b+" 经验")});(function(){var e={trident:0,gecko:0,webkit:0,khtml:0,presto:0,ver:null};var b={ie:0,firefox:0,safari:0,konq:0,opera:0,chrome:0,ver:null};var f={win:false,mac:false,x11:false};var d=navigator.userAgent;if(/AppleWebKit\/(\S+)/.test(d)){e.ver=RegExp["$1"];e.webkit=parseFloat(e.ver);if(/OPR\/(\S+)/.test(d)){b.ver=RegExp["$1"];b.opera=parseFloat(b.ver)}else{if(/Chrome\/(\S+)/.test(d)){b.ver=RegExp["$1"];b.chrome=parseFloat(b.ver)}else{if(/Version\/(\S+)/.test(d)){b.ver=RegExp["$1"];b.safari=parseFloat(b.ver)}else{var a=1;if(e.webkit<100){a=1}else{if(e.webkit<312){a=1.2}else{if(e.webkit<412){a=1.3}else{a=2}}}b.safari=b.ver=a}}}}else{if(window.opera){e.ver=b.ver=window.opera.version();e.presto=b.opera=parseFloat(e.ver)}else{if(/Opera[\/\s](\S+)/.test(d)){e.ver=b.ver=RegExp["$1"];e.presto=b.opera=parseFloat(e.ver)}else{if(/KHTML\/(\S+)/.test(d)||/Konqueror\/([^;]+)/.test(d)){e.ver=b.ver=RegExp["$1"];e.khtml=b.konq=parseFloat(e.ver)}else{if(/rv:([^\)]+)\) Gecko\/\d{8}/.test(d)){e.ver=RegExp["$1"];e.gecko=parseFloat(e.ver);if(/Firefox\/(\S+)/.test(d)){b.ver=RegExp["$1"];b.firefox=parseFloat(b.ver)}}else{if(/Trident\/([\d\.]+)/.test(d)){e.ver=RegExp["$1"];e.trident=parseFloat(e.ver);if(/rv\:([\d\.]+)/.test(d)||/MSIE ([^;]+)/.test(d)){b.ver=RegExp["$1"];b.ie=parseFloat(b.ver)}}else{if(/MSIE ([^;]+)/.test(d)){b.ver=RegExp["$1"];b.ie=parseFloat(b.ver);e.ver=b.ie-4;e.trident=parseFloat(e.ver)}}}}}}}var g=navigator.platform;f.win=g.indexOf("Win")==0;f.mac=g.indexOf("Mac")==0;f.x11=(g.indexOf("X11")==0)||(g.indexOf("Linux")==0);if(f.win){if(/Win(?:dows )?([^do]{2})\s?(\d+\.\d+)?/.test(d)){if(RegExp["$1"]=="NT"){f.win=({"5.0":"2000","5.1":"XP","6.0":"Vista","6.1":"7","6.2":"8","6.3":"8.1","10":"10"})[RegExp["$2"]]||"NT"}else{if(RegExp["$1"]=="9x"){f.win="ME"}else{f.win=RegExp["$1"]}}}}var h={browser:"unknown",browser_ver:d,engine:"unknown",engine_ver:"unknown",system:"unknown",system_ver:"unknown"};for(var c in e){if(e.hasOwnProperty(c)){if(c=="ver"){if(e[c]){h.engine_ver=e[c]}}else{if(e[c]!==0){h.engine=c}}}}for(var c in b){if(b.hasOwnProperty(c)){if(c=="ver"){if(b[c]){h.browser_ver=b[c]}}else{if(b[c]!==0){h.browser=c}}}}for(var c in f){if(f.hasOwnProperty(c)){if(f[c]){h.system=c;h.system_ver=f[c]}}}window.mfwPageEvent&&window.mfwPageEvent("test","browser_stat",h)}());(function(b){b.path={};var a={rotate:function(f,g){var e=g*3.141592654/180;var h=Math.cos(e),d=Math.sin(e);return[h*f[0]-d*f[1],d*f[0]+h*f[1]]},scale:function(c,d){return[d*c[0],d*c[1]]},add:function(d,c){return[d[0]+c[0],d[1]+c[1]]},minus:function(d,c){return[d[0]-c[0],d[1]-c[1]]}};b.path.bezier=function(g){g.start=b.extend({angle:0,length:0.3333},g.start);g.end=b.extend({angle:0,length:0.3333},g.end);this.p1=[g.start.x,g.start.y];this.p4=[g.end.x,g.end.y];var d=a.minus(this.p4,this.p1);var e=a.scale(d,g.start.length);e=a.rotate(e,g.start.angle);this.p2=a.add(this.p1,e);var c=a.scale(d,-1);var f=a.scale(c,g.end.length);f=a.rotate(f,g.end.angle);this.p3=a.add(this.p4,f);this.f1=function(h){return(h*h*h)};this.f2=function(h){return(3*h*h*(1-h))};this.f3=function(h){return(3*h*(1-h)*(1-h))};this.f4=function(h){return((1-h)*(1-h)*(1-h))};this.css=function(k){var i=this.f1(k),n=this.f2(k),l=this.f3(k),j=this.f4(k);var h=this.p1[0]*i+this.p2[0]*n+this.p3[0]*l+this.p4[0]*j;var m=this.p1[1]*i+this.p2[1]*n+this.p3[1]*l+this.p4[1]*j;return{top:m+"px",left:h+"px"}}};b.path.arc=function(d){for(var c in d){this[c]=d[c]}this.dir=this.dir||1;while(this.start>this.end&&this.dir>0){this.start-=360}while(this.start<this.end&&this.dir<0){this.start+=360}this.css=function(g){var f=this.start*(g)+this.end*(1-(g));f=f*3.1415927/180;var e=Math.sin(f)*this.radius+this.center[0];var h=Math.cos(f)*this.radius+this.center[1];return{top:h+"px",left:e+"px"}}};b.path.line=function(c){this.css=function(j){j=1-j;var h=1/(c.length-1);var e=Math.floor(j/h);var f=j-e*h;var d,k;if(f>0){var i=c[e];var g=c[e+1];k=i.top+(g.top-i.top)*(f/h);d=i.left+(g.left-i.left)*(f/h)}else{k=c[e]["top"];d=c[e]["left"]}return{top:k+"px",left:d+"px"}}};b.fx.step.path=function(e){var d=e.end.css(1-e.pos);for(var c in d){e.elem.style[c]=d[c]}}})(jQuery);if(window.M&&typeof window.M.define=="function"){window.M.define("/js/jquery.path.js",function(){return jQuery})}M.define("Cookie",function(f,h,e){var g=/\+/g;var d={set:function(l,m,j){j=(typeof j=="object"&&j!==null)?j:{};if(typeof j.expires==="number"){var n=j.expires,k=j.expires=new Date();k.setTime(+k+n*1000)}return(document.cookie=[i(l),"=",i(String(m)),j.expires?"; expires="+j.expires.toUTCString():"",j.path?"; path="+j.path:"",j.domain?"; domain="+j.domain:"",j.secure?"; secure":""].join(""))},get:function(p){var j=p?undefined:{};var q=document.cookie?document.cookie.split("; "):[];for(var o=0,k=q.length;o<k;o++){var r=q[o].split("=");var m=a(r.shift());var n=r.join("=");if(p&&p===m){j=b(n);break}if(!p&&(n=b(n))!==undefined){j[m]=n}}return j},remove:function(k,j){if(this.get(k)===undefined){return false}j=(typeof j=="object"&&j!==null)?j:{};j.expires=-1;this.set(k,"",j)}};function i(j){return encodeURIComponent(j)}function a(j){return decodeURIComponent(j)}function c(j){if(j.indexOf('"')===0){j=j.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")}try{j=decodeURIComponent(j.replace(g," "));return j}catch(k){}}function b(j){var k=c(j);return k}e.exports=d});M.define("/js/ad_widget/adwidget",function(b,a,c){var d=function(){};d.prototype={init:function(e){var f=this;f.startTime=new Date().getTime();f.conf=e;e.delay>>=0;setTimeout(function(){f.run()},e.delay)},run:function(){throw new Error("undefined run function")},cookie:b("Cookie"),setNextTime:function(g){if(g=="never"){g=4102415999}else{g=g+new Date().getTime()/1000|0}var e="ad_widget_"+this.conf.type;if(this.conf.sub_type&&this.conf.sub_type.length){e+="_"+this.conf.sub_type}var f=this.cookie.get(e);if(f){var h=f.split(",")[0];h++}else{h=1}this.cookie.set(e,h+","+g.toString(36),{path:"/",expires:7*24*60*60});return h},log:function(e){$.getJSON("/ad_widget/ajax.php",{act:"log",a:e,t:this.conf.type,s:this.conf.sub_type,tt:this.conf.target});console.log(this);mfwPageEvent("sales","ad_widget",{action:e,type:this.conf.type,sub_type:this.conf.sub_type})},show:function(){this.log("show")},hide:function(){this.log("hide");var e=this.setNextTime(this.conf.hide_duration|0);if(e>=(this.conf.hide_count||Number.MAX_VALUE)){this.setNextTime("never")}$('[data-cs-t="app_adwidget"][data-cs-p="'+this.conf.type+'"]').hide()},close:function(){this.log("close");this.setNextTime("never");$('[data-cs-t="app_adwidget"][data-cs-p="'+this.conf.type+'"]').remove()},click:function(){this.log("click")}};c.exports=d});M.define("/js/ad_widget/footer",function(c,b,d){c("/js/jquery.path.js");var e=c("/js/ad_widget/adwidget");var a=function(){this.offsetTop=false;this.bgHeight=0};a.prototype=new e();a.prototype.run=function(){this.$ad=$("#fix_footer_ad");this.bgHeight=this.$ad.find(".bg").height();var f=this;this.initOffsetTop();$(window).on("resize",function(){f.initOffsetTop();if(f.judgeScroll()){f.$ad.show()}else{f.$ad.hide()}});$(".fixed-local").hide();f.show();this.$ad.find(".link").click(function(){f.click()});this.$ad.find(".close").click(function(){f.close()});if(this.judgeScroll()){f.$ad.show()}else{f.$ad.hide()}$(window).on("scroll",function(){if(f.judgeScroll()){f.$ad.show()}else{f.$ad.hide()}})};a.prototype.initOffsetTop=function(){this.offsetTop=false;var h=null;if(location.pathname=="/"||location.pathname=="/index.php"){var i=$(".mfw-aside .da-banner:first-child");if(i.length){h=i}else{var g=$(".mfw-wrapper .da-banner:first-child");if(g.length){h=g}}}else{if(location.pathname=="/mdd/"||location.pathname=="/mdd/index.php"){var f=$(".iamad-fxckme");if(f.length){h=f}}}if(h){this.offsetTop=h.offset().top+h.height()-$(window).height()+this.bgHeight/2}};a.prototype.judgeScroll=function(){if(this.offsetTop!==false){var f=$(window).scrollTop()-this.offsetTop+this.bgHeight;if(f>0){if(this.$ad){this.$ad.css("margin-bottom",-Math.max(0,this.bgHeight-f/2))}return true}else{return false}}else{return true}};d.exports=a});